<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>小黄的记录`Blog</title>
  
  <subtitle>天道酬勤</subtitle>
  <link href="http://example.com/atom.xml" rel="self"/>
  
  <link href="http://example.com/"/>
  <updated>2024-01-23T16:54:32.851Z</updated>
  <id>http://example.com/</id>
  
  <author>
    <name>小黄</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>《大型网站技术架构》| 读书笔记 | 【1】演化发展</title>
    <link href="http://example.com/posts/4a17b157.html"/>
    <id>http://example.com/posts/4a17b157.html</id>
    <published>2024-01-23T16:46:30.877Z</published>
    <updated>2024-01-23T16:54:32.851Z</updated>
    
    <content type="html"><![CDATA[<p>书名:   《大型网站技术架构：核心原理与案例分析》</p><h3 id="大型网站软件系统的特点"><a href="#大型网站软件系统的特点" class="headerlink" title="大型网站软件系统的特点"></a>大型网站软件系统的特点</h3><ul><li><p><strong>高并发、大流量</strong></p><ul><li>指标：PV、UV、IP、交易额、在线用户数</li></ul></li><li><p><strong>高可用</strong></p><ul><li>系统不间断服务</li></ul></li><li><p><strong>海量数据</strong></p><ul><li>存储、管理海量数据</li></ul></li><li><p><strong>用户分布广泛、网络情况复杂</strong></p><ul><li>系统为全球用户服务，因网络等原因，系统需全球化部署，即海外多地建立机器集群</li></ul></li><li><p><strong>需求快速变更、发布频繁</strong></p></li><li><p><strong>渐进式发展</strong></p></li></ul><p>​<strong>大型网站的技术挑战主要来自于庞大的用户，高并发的访问和海量的数据，任何简单的业务一旦需要处理数以P计的数据和面向数以亿计的用户，问题就会变得很棘手。大型网站架构主要就是解决这类问题。</strong></p><h3 id="网站演化发展"><a href="#网站演化发展" class="headerlink" title="网站演化发展"></a>网站演化发展</h3><h4 id="阶段一-初始"><a href="#阶段一-初始" class="headerlink" title="阶段一  初始"></a>阶段一  初始</h4><p><img src="C:\Users\Administrator\Desktop\读书笔记\《大型网站技术架构：核心原理与案例分析》读书笔记.assets\image-20240118195725752.png" alt="image-20240118195725752"></p><ul><li>应用程序、数据库、文件 通通都在一台服务器上</li></ul><h4 id="阶段二-应用服务和数据服务分离"><a href="#阶段二-应用服务和数据服务分离" class="headerlink" title="阶段二 应用服务和数据服务分离"></a>阶段二 应用服务和数据服务分离</h4><p><img src="C:\Users\Administrator\Desktop\读书笔记\《大型网站技术架构：核心原理与案例分析》读书笔记.assets\image-20240118195708412.png" alt="image-20240118195708412"></p><ul><li><strong>问题：</strong> 用户多导致性能变差，数据多导致存储空间不足</li><li>应用数据和数据服务分离 &#x3D;&gt; 应用服务器、文件服务器、数据库服务器</li><li>三台服务器对硬件资源的要求各不相同<ul><li>应用服务器——应对大量的业务逻辑——更快更强的CPU</li><li>数据库服务器——快速的磁盘检索和数据缓存——更快的硬盘和更大的内存</li><li>文件服务器——存储大量用户的文件——更大的硬盘</li><li>应用和数据分离后，不同特性的服务器各司其职，提高了网站的并发能力和数据存储能力</li></ul></li></ul><h4 id="阶段三-使用缓存改善性能"><a href="#阶段三-使用缓存改善性能" class="headerlink" title="阶段三 使用缓存改善性能"></a>阶段三 使用缓存改善性能</h4><p><img src="C:\Users\Administrator\Desktop\读书笔记\《大型网站技术架构：核心原理与案例分析》读书笔记.assets\image-20240118200309557.png" alt="image-20240118200309557"></p><ul><li><strong>问题：</strong>用户多，数据库压力太大，导致访问延迟，进而影响整个网站的性能，换句话说：<strong>数据库成为了系统瓶颈</strong></li><li>二八定律：80%的业务访问集中在20%的数据上</li><li>因此给这20%的数据缓存在内存中，理论上就可以减少数据库的访问压力，提高整个网站的数据访问速度。<ul><li>网站使用的缓存可以分为两种<ul><li>缓存在应用服务器上的本地缓存<ul><li>1、受应用服务器的内存限制</li><li>2、出现和应用程序争用内存的情况</li></ul></li><li>缓存在专门的分布式缓存服务器上的远程缓存——理论上可以做到不受内存容量限制<ul><li>1、集群的方式  （例如Redis的集群方式、Codis等）</li><li>2、大内存的服务器</li></ul></li></ul></li></ul></li></ul><h4 id="阶段四-使用应用服务器集群改善网站的并发处理能力"><a href="#阶段四-使用应用服务器集群改善网站的并发处理能力" class="headerlink" title="阶段四 使用应用服务器集群改善网站的并发处理能力"></a>阶段四 使用应用服务器集群改善网站的并发处理能力</h4><p><img src="C:\Users\Administrator\Desktop\读书笔记\《大型网站技术架构：核心原理与案例分析》读书笔记.assets\image-20240119101020800.png" alt="image-20240119101020800"></p><ul><li><strong>问题</strong>：使用缓存后，数据访问压力得到有效缓解，但是单一应用服务区能够处理的请求连接有限，在网站高峰期，应用服务器成为整个网站的瓶颈。</li><li>通过负载均衡调度服务器，可将来自用户浏览器的访问请求分发到应用服务器集群中的任何一台服务器上，如果有更多的用户，就在集群中加入更多的应用服务器，使应用服务器的负载压力不再成为整个网站的瓶颈。</li></ul><h4 id="阶段五-数据库读写分离"><a href="#阶段五-数据库读写分离" class="headerlink" title="阶段五 数据库读写分离"></a>阶段五 数据库读写分离</h4><p><img src="C:\Users\Administrator\Desktop\读书笔记\《大型网站技术架构：核心原理与案例分析》读书笔记.assets\image-20240119101646523.png" alt="image-20240119101646523"></p><ul><li>应用服务器在写数据的时候，访问主数据库，主数据库通过主从复制机制，将数据更新同步到从数据库，这样当应用服务器读数据时，就可以通过从数据库获得数据。</li></ul><h4 id="阶段六-使用CDN和反向代理加速网站响应"><a href="#阶段六-使用CDN和反向代理加速网站响应" class="headerlink" title="阶段六 使用CDN和反向代理加速网站响应"></a>阶段六 使用CDN和反向代理加速网站响应</h4><p><img src="C:\Users\Administrator\Desktop\读书笔记\《大型网站技术架构：核心原理与案例分析》读书笔记.assets\image-20240119102905980.png" alt="image-20240119102905980"></p><ul><li><strong>问题</strong>：全球网络情况复杂，网站访问延迟，用户流失</li><li>CDN (内容分发网络) 的作用<ul><li>通过在多个地理位置建立一个入网点或一组CDN边缘服务器来工作<ul><li>缓存</li><li>动态加速(优化CDN服务器与应用服务器的连接)</li><li>边缘逻辑计算</li></ul></li></ul></li><li>反向代理的作用<ul><li>负载均衡，根据访问流量和服务器负载情况，将请求分发到不同的应用服务器</li><li>缓存</li><li>保护服务器，隐藏服务器真实 IP</li></ul></li><li>目的：都是为了尽早返回数据(缓存)给用户，同时也减轻了后端服务器的负载压力</li></ul><h4 id="阶段七-使用分布式文件系统和分布式数据库系统"><a href="#阶段七-使用分布式文件系统和分布式数据库系统" class="headerlink" title="阶段七 使用分布式文件系统和分布式数据库系统"></a>阶段七 使用分布式文件系统和分布式数据库系统</h4><p><img src="C:\Users\Administrator\Desktop\读书笔记\《大型网站技术架构：核心原理与案例分析》读书笔记.assets\image-20240119104722478.png" alt="image-20240119104722478"></p><ul><li><strong>问题：</strong>一台数据库&#x2F;文件服务器是满足不了持续增长的业务需求的。</li><li>分布式数据库是网站数据库拆分的最后手段，只有在单表数据规模非常庞大的时候才使用。</li><li>网站更常用的数据库拆分手段是业务分库，即将不同业务的数据库部署在不同的物理服务器上。</li></ul><h4 id="阶段八-使用NoSQL和搜索引擎"><a href="#阶段八-使用NoSQL和搜索引擎" class="headerlink" title="阶段八 使用NoSQL和搜索引擎"></a>阶段八 使用NoSQL和搜索引擎</h4><p><img src="C:\Users\Administrator\Desktop\读书笔记\《大型网站技术架构：核心原理与案例分析》读书笔记.assets\image-20240119105539838.png" alt="image-20240119105539838"></p><ul><li><strong>问题：</strong>网站的业务越来越复杂，对数据存储和检索的需求也越来越复杂</li><li>网站需要采用一些非关系型数据库技术(Redis、MongoDB)、非数据库查询技术如搜索引擎（ES）</li><li>应用服务器则通过一个统一数据访问模块访问各种数据，减轻应用程序管理诸多数据源的麻烦</li></ul><h4 id="阶段九-业务拆分-分布式服务"><a href="#阶段九-业务拆分-分布式服务" class="headerlink" title="阶段九 业务拆分-分布式服务"></a>阶段九 业务拆分-分布式服务</h4><p><img src="C:\Users\Administrator\Desktop\读书笔记\《大型网站技术架构：核心原理与案例分析》读书笔记.assets\image-20240119110456687.png" alt="image-20240119110456687"></p><ul><li>问题：日益复杂的业务场景</li><li>使用分而治之的手段将整个网站业务分成不同的产品线<ul><li>例如大型购物交易网站会将 首页、商铺、订单、买家、卖家等拆分为不同的产品线，分归不同的业务团队负责</li></ul></li><li>技术上，会根据不同的产品线，将网站拆分为多个应用，每个应用独立部署维护<ul><li>应用之间可以通过访问同一个数据存储系统构成一个关联的完整的系统。</li></ul></li></ul><h4 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h4><p>大型网站的架构演化到这里，基本上大多数的技术问题都得以解决</p><ul><li>另外还有一些跨数据中心的实时数据同步问题  可以通过组合改进现有技术架构或引入新技术组件解决</li><li>如何把自己已经解决的问题的方案应用到别的业务上去 — 建设云计算平台，将计算作为一种基础资源出售，企业按需付费，另外存储、网络都可以按需购买。</li><li><strong>理解已成熟的网站架构技术方案的来龙去脉和历史渊源，在技术选型和架构决策才能有的放矢，直击要害。</strong></li></ul><h5 id="价值观"><a href="#价值观" class="headerlink" title="价值观"></a>价值观</h5><ul><li>没有哪个网站从诞生就是大型网站 (庞大用户、海量数据、高并发访问)，大型网站都是从小型网站发展而来的。</li><li>网站的价值在于它能为用户提供什么价值，而不是网站怎么做的，用了什么高级技术，否则就是舍本逐末。</li><li>驱动大型网站技术发展的主要力量是网站的业务发展，业务成就了技术，不要为了技术而技术。</li><li>当出现技术架构解决不了的问题时，可以看看是否是业务架构有问题。</li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;书名:   《大型网站技术架构：核心原理与案例分析》&lt;/p&gt;
&lt;h3 id=&quot;大型网站软件系统的特点&quot;&gt;&lt;a href=&quot;#大型网站软件系统的特点&quot; class=&quot;headerlink&quot; title=&quot;大型网站软件系统的特点&quot;&gt;&lt;/a&gt;大型网站软件系统的特点&lt;/h3&gt;&lt;ul</summary>
      
    
    
    
    <category term="读书笔记" scheme="http://example.com/categories/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/"/>
    
    
  </entry>
  
  <entry>
    <title>Kafka | 1</title>
    <link href="http://example.com/posts/4a17b156.html"/>
    <id>http://example.com/posts/4a17b156.html</id>
    <published>2024-01-21T02:52:50.507Z</published>
    <updated>2024-01-21T02:53:37.570Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure><p><a href="https://img1.imgtp.com/2024/01/20/iJ5eYrGh.jpg">https://img1.imgtp.com/2024/01/20/iJ5eYrGh.jpg</a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;Quick-Start&quot;&gt;&lt;a href=&quot;#Quick-Start&quot; class=&quot;headerlink&quot; title=&quot;Quick Start&quot;&gt;&lt;/a&gt;Quick Start&lt;/h2&gt;&lt;h3 id=&quot;Create-a-new-post&quot;&gt;&lt;a href=&quot;#</summary>
      
    
    
    
    <category term="学习分享" scheme="http://example.com/categories/%E5%AD%A6%E4%B9%A0%E5%88%86%E4%BA%AB/"/>
    
    
  </entry>
  
  <entry>
    <title>BIGO</title>
    <link href="http://example.com/posts/4a17b156.html"/>
    <id>http://example.com/posts/4a17b156.html</id>
    <published>2024-01-21T02:50:37.127Z</published>
    <updated>2024-01-21T02:54:09.555Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure><p><a href="https://img1.imgtp.com/2024/01/20/iJ5eYrGh.jpg">https://img1.imgtp.com/2024/01/20/iJ5eYrGh.jpg</a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;Quick-Start&quot;&gt;&lt;a href=&quot;#Quick-Start&quot; class=&quot;headerlink&quot; title=&quot;Quick Start&quot;&gt;&lt;/a&gt;Quick Start&lt;/h2&gt;&lt;h3 id=&quot;Create-a-new-post&quot;&gt;&lt;a href=&quot;#</summary>
      
    
    
    
    <category term="实习记录" scheme="http://example.com/categories/%E5%AE%9E%E4%B9%A0%E8%AE%B0%E5%BD%95/"/>
    
    
  </entry>
  
</feed>
